<!DOCTYPE HTML>

<html lang="en">
<head>
  <link rel="stylesheet" type="text/css" href="myResponsiveCalendar.css"/>
  <!-- Latest compiled and minified CSS -->


  <title>An Updating Calendar</title>
  <!--Author: Dylan Fox-->
</head>
<script type="text/JavaScript">

const months = ["January", "February", "March", "April", "May", "June", "July",
  "August", "September", "October", "November", "December"];

const DateInfo = function() {
  let today = new Date();
  this.month = months[today.getMonth()];
  this.year = today.getFullYear();
  this.dayOfWeek = today.getDay();
  this.dayOfMonth = today.getDate();
  this.numDaysInMonth = new Date(today.getFullYear(), (today.getMonth() + 1), 0).getDate();
  this.firstDayMonth = new Date(today.getFullYear(), today.getMonth(), 1).getDay();
}

const fillTable = function(todaysInfo) {
  const calendarHeader = document.getElementById("tableHeader");
  const calendarBody = document.getElementById("tableBody");
  console.log(todaysInfo.numDaysInMonth);
  let currentRow, currentColumn, currentCell, weekCounter;
  let daysInserted = 0;
  let insertedEnoughDays = false;
  //Sets Month Header
  calendarHeader.innerHTML = todaysInfo.month + " " +
  todaysInfo.year;

   while (!(insertedEnoughDays)) {
     //insert row to table
     currentRow = calendarBody.insertRow(-1);
     //create days of the week to fill above row
     for (weekCounter = 0; weekCounter < 7; weekCounter++) {
       currentCell = currentRow.insertCell(-1);

       if (calendarBody.rows.length === 1 &&
       weekCounter < todaysInfo.firstDayMonth) {
         currentCell.innerHTML = "";
         continue;
       }

       daysInserted ++;
       if (daysInserted >= todaysInfo.numDaysInMonth) {
         insertedEnoughDays = true;
       }

       if (daysInserted <= todaysInfo.numDaysInMonth) {
         currentCell.innerHTML = daysInserted;
       } else {
         currentCell.innerHTML = "";
       }
     }
   }
}
</script>

<body onload= "fillTable(new DateInfo());">
  <table id="calendarTable">
    <thead>
      <tr>
          <th id="tableHeader" colspan=7></th>
      </tr>
      <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th>
      <th>Thu</th><th>Fri</th><th>Sat</th></tr>
    </thead>
  <tbody id="tableBody"></tbody>
</table>

</body>
</html>
